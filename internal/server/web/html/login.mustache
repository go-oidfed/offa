<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="{{basepath}}/static/css/sakura-earthly.css" media="screen" />
    <link rel="stylesheet" href="{{basepath}}/static/css/sakura-dark.css" media="screen and (prefers-color-scheme: dark)" />
    <link rel="stylesheet" href="{{basepath}}/static/css/offa.css" />
    {{#conf.ThissJS.Enabled}}
    <script src="{{conf.ThissJS.URL}}/thiss.js"></script>
    {{/conf.ThissJS.Enabled}}
</head>
<body>
<h2>{{client_name}}</h2>
{{#logo_uri}}
    <img src="{{.}}" alt="Logo" class="logo"/>
{{/logo_uri}}

{{#conf.Local.Enabled}}
<h4>Choose an OP to login</h4>
<form action="{{login-path}}" id="form">

    <div class="dropdown">
        <div class="dropdown-toggle">
            <span>Select OP</span>
        </div>
        <div class="dropdown-menu">
            <input type="text" placeholder="Search...">
            {{#ops}}
                <div class="option"
                     data-value="{{EntityID}}"
                     data-tags="{{Keywords}}">
                    {{#LogoURI}}
                        <img src="{{.}}" alt="Logo">
                    {{/LogoURI}}
                    {{DisplayName}}
                </div>
            {{/ops}}
        </div>
    </div>

    <input type="hidden" name="iss" id="issuer"/>
    <input type="hidden" name="next" value="{{next}}" />
</form>
{{/conf.Local.Enabled}}

{{#conf.ThissJS.Enabled}}
<div id="seamless-access-login-container" class="mt-2">
    {{#conf.Local.Enabled}}
        <h4>Or</h4>
    {{/conf.Local.Enabled}}
   <div id="login-thiss-js"></div>
</div>

<script>
    window.onload = function() {
        thiss.DiscoveryComponent({
            loginInitiatorURL:
            '{{conf.ThissJS.URL}}/ds/?entityID={{entity-id}}&return={{login-url}}',
        }).render('#login-thiss-js');
    };
</script>
{{/conf.ThissJS.Enabled}}

</body>
<script src="{{basepath}}/static/js/login.js"></script>
</html>